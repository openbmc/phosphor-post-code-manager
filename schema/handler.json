{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "type": "object",
        "required": ["name", "description", "primary"],
        "additionalProperties": false,
        "properties": {
            "name": {
                "description": "Human readable name of the post-code",
                "type": "string"
            },
            "description": {
                "description": "Human readable short description of the post-code",
                "type": "string"
            },
            "primary": {
                "description": "Primary post code represented as a hex string",
                "type": "string",
                "pattern": "^0x([A-Fa-f0-9]{2}){1,}$"
            },
            "secondary": {
                "description": "[Optional] Secondary post code represented as a hex string. If absent from configuration, all post codes matching the primary will be handled using this config",
                "type": "string",
                "pattern": "^0x([A-Fa-f0-9]{2}){1,}$"
            },
            "event": {
                "description": "If provided describes the structured log to create upon receiving the post-code",
                "type": "object",
                "additionalProperties": false,
                "required": ["name", "arguments"],
                "properties": {
                    "name": {
                        "description": "DBus ID/Name of the event to create. Example: xyz.openbmc_project.State.SMC.SMCFailed",
                        "type": "string"
                    },
                    "arguments": {
                        "description": "Arguments for the event",
                        "type": "object"
                    }
                }
            },
            "targets": {
                "description": "List of targets to be started upon receiving a post-code",
                "type": "array",
                "items": {
                    "type": "string"
                }
            }
        }
    }
}
